# Puntuguese with Gen AI #

## How to run the experiments ##

The script used to send requests to classification is `./classificate_phrases.py`.

Example

```
python3 ./classificate_phrases.py ./data/testWithout10shot.csv ./prompts/phrases_classification.txt ./config1.db
```

### Configurations tested ###

All the configurations used a guideline generated by the model through the process:
1. Select 100 random rows with label `Trocadilho` from `./data/classification_corpus_unique_pairs.csv` and its 100 correspondent `Não trocadilho` pairs;
2. A prompt with those rows followed by a message asking LLM to generate a guideline for annotation. The prompt is located at `./prompts/guideline_generation.txt`;
3. The prompt generated is located at `./prompts/guideline_generated.txt`.

#### First configuration - Zero shot, one phrase ####
* Prompt used for classification was `./prompts/phrases_classification.txt`
* Data used for classification was `./data/testWithout10shot.csv`
* Results in `./results/config1.1.db`

#### Second configuration - 10 shot, one phrase ####
* Prompt used for classification was `./prompts/phrases_classification10shot.txt`
* Data used for classification was `./data/testWithout10shot.csv`
* Results in `./results/config2.1.db`

#### Third configuration - 10 shot with chain of thought, one phrase ####

* Prompt used for classification was `./prompts/phrases_classification10shotPunSigns.txt`
* Data used for classification was `./data/testWithout10shot.csv`
* Results in `./results/config3.1.db`

#### Fourth configuration - Zero shot, pair ####
* Prompt used for classification was `./prompts/phrases_classification_pairs.txt`
* Data used for classification was `./data/testWithout10shot_pairs.csv`
* Results in `./results/config2.1.db`

#### Fifth configuration - 10 shot, pair ####
* Prompt used for classification was `./prompts/phrases_classification10shot_pairs.txt`
* Data used for classification was `./data/testWithout10shot_pairs.csv`
* Results in `./results/config2.2.db`

#### Sixth configuration - 10 shot with chain of thought, pair ####

* Prompt used for classification was `./prompts/phrases_classification10shotPunSigns_pairs.txt`
* Data used for classification was `./data/testWithout10shot_pairs.csv`
* Results in `./results/config2.3.db`

## Scripts e Utilitários

### Gerar dataset de pares
Para criar um CSV com pares de frases (Trocadilho e Não trocadilho), use:
```
python utils/create_pairs_dataset.py <input.csv> <output.csv>
```

### Classificar pares de frases
Para classificar pares de frases, use o script `classificate_pairs.py`:
```
python classificate_pairs.py <arquivo_pares.csv> <prompt.txt> <banco.db>
```

## TODO

- [x] Rodar config 1.1 - Zero shot, one frase
- [x] Rodar config 1.2 - 10 shot, one frase
- [x] Rodar config 1.3 - 10 shot with chain of thought, one frase
- [ ] Rodar config 2.1 - Zero shot, pair
- [ ] Rodar config 2.2 - 10 shot, pair
- [ ] Rodar config 2.3 - 10 shot with chain of thought, pair
- [ ] Corrigir as linhas nos results com PARSE_ERROR
- [ ] Criar o script de métricas. Utilizar matriz de confusão, precision, recall, F1 e F2
- [ ] SE SOBRAR TEMPO rodar todas as configs usando o modelo do gemini
